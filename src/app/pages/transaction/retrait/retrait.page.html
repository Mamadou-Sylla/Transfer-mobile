<ion-content>
  <div class="container">
    <ion-card>
      <ion-card-content>
        <button routerLink="/admin"><img src="../../../assets/icon/accueil.png" alt="Menu"/></button>
        <img class="logo" src="../../assets/images/Logo.png" alt="Loga Money SA"/>
      </ion-card-content>
      <h1><span><ion-icon name="return-up-back-outline"></ion-icon></span>Retrait</h1>
      <div class="bottom"></div>
    </ion-card>
  </div>

  <form [formGroup]="RetraitForm" (ngSubmit)="OnSubmit()">
        <div>
          <ion-item class="code">
            <ion-label position="stacked">Code de transaction</ion-label>
            <ion-input type="text" (keyup)="getCode($event)" placeholder="111-222-33" formControlName="code" [ngClass]="{ 'is-invalid': submitted } && f.code.errors"></ion-input>
          </ion-item>
          <ion-text color="danger" *ngIf="submitted && f.code.errors" class="invalid-feedback">
            <p id="code" *ngIf="f.code.errors.required">Code obligatoire!</p>
          </ion-text>
        </div>

        <div class="wrapper">
          <ion-card class="content">
            <ion-card-content>
              <ion-segment name="segment" [(ngModel)]="selectTabs " [ngModelOptions]="{standalone: true}">
                <ion-segment-button value="emetteur">
                  <h2>Bénéficiaire</h2>
                </ion-segment-button>
                <ion-segment-button value="beneficiaire">
                  <h2>Emetteur</h2>
                </ion-segment-button>
              </ion-segment>
            </ion-card-content>
          </ion-card>
        </div>

            <div *ngIf="selectTabs == 'emetteur'">
              <ion-item>
                <ion-label position="stacked">N°CNI</ion-label>
                <ion-input type="text" placeholder="1 291 1998 23 221" formControlName="cni" [ngClass]="{ 'is-invalid': submitted } && f.cni.errors"></ion-input>
              </ion-item>
                        <ion-text color="danger" *ngIf="submitted && f.cni.errors" class="invalid-feedback">
                          <p id="code" *ngIf="f.cni.errors.required">N°CNI obligatoire!</p>
                        </ion-text>
              <ion-item>
                <ion-label position="stacked">Nom</ion-label>
                <ion-input type="text" placeholder="DIALLO" formControlName="nom" [ngClass]="{ 'is-invalid': submitted } && f.nom.errors"></ion-input>
              </ion-item>
                      <ion-text color="danger" *ngIf="submitted && f.nom.errors" class="invalid-feedback">
                        <p id="code" *ngIf="f.nom.errors.required">Nom obligatoire!</p>
                      </ion-text>
              <ion-item>
                <ion-label position="stacked">Prénom</ion-label>
                <ion-input type="text" placeholder="Saliou" formControlName="prenom" [ngClass]="{ 'is-invalid': submitted } && f.prenom.errors"></ion-input>
              </ion-item>
                    <ion-text color="danger" *ngIf="submitted && f.prenom.errors" class="invalid-feedback">
                      <p id="code" *ngIf="f.prenom.errors.required">Prenom obligatoire!</p>
                    </ion-text>

              <ion-item>
                <ion-label position="stacked">Téléphone</ion-label>
                <ion-input type="text" placeholder="77 007 77 70" formControlName="cell" [ngClass]="{ 'is-invalid': submitted } && f.cell.errors"></ion-input>
              </ion-item>
                    <ion-text color="danger" *ngIf="submitted && f.cell.errors" class="invalid-feedback">
                      <p id="code" *ngIf="f.cell.errors.required">Telephone obligatoire!</p>
                    </ion-text>

              <ion-item>
                <ion-label position="stacked">Montant</ion-label>
                <ion-input type="number" placeholder="350 000" formControlName="montant" [ngClass]="{ 'is-invalid': submitted } && f.montant.errors"></ion-input>
              </ion-item>
                    <ion-text color="danger" *ngIf="submitted && f.montant.errors" class="invalid-feedback">
                      <p id="code" *ngIf="f.montant.errors.required">Montant obligatoire!</p>
                    </ion-text>

            </div>
            <div *ngIf="selectTabs == 'beneficiaire'">
              <div class="item-text">
                <h6>N°CNI</h6>
                <h4>{{emetteur.client.cni}}</h4>
              </div>
              <div class="item-text">
                <h6>Prenom et Nom</h6>
                <h4>{{emetteur.client.prenom}} {{emetteur.client.nom}}</h4>
              </div>
              <div class="item-text">
                <h6>Telephone</h6>
                <h4>{{emetteur.client.telephone}}</h4>
              </div>
              <div class="item-text">
                <h6>Montant</h6>
                <h4>{{emetteur.montant}}</h4>
              </div>
              <div class="item-text">
                <h6>Date depot</h6>
                <h4>{{emetteur.dateDepot | date:'short'}}</h4>
              </div>

            </div>
            <div class="btn">
              <button id="btn" type="button" (click)="OnConfirm(emetteur)"  expand="block">Retirer</button>
            </div>
    </form>
</ion-content>

